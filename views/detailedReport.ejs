<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title><%- title %> - Correl8</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <link href="../public/img/logo2.png" rel="icon">

  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link href="../public/img/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">

  <link href="../public/css/main.css" rel="stylesheet">
  <link href="../public/css/reports.css" rel="stylesheet">

</head>

<body>

  <%- include('./partials/header.ejs') %>

    <%- include('./partials/adminsidebar.ejs') %>


      <main id="main" class="main">

        <section class="section dashboard">

          <div class="pagetitle mb-4">
            <h1>Reports</h1>
            <nav>
              <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/reports">Analytics</a></li>
                <li class="breadcrumb-item active">Details</li>
              </ol>
            </nav>
          </div>



          <div class="row">
            <!-- Bar Chart -->
            <div class="col-lg-3">
              <div class="card" style="height:300px;">
                <div class="card-body">
                  <h2 class="card-title">Information</h2>

                  <div style="margin-left: 25px;" id="infoContainer">

                  </div>



                </div>
              </div>
            </div>


            <!-- Total Detected Correlation -->
            <div class="col-lg-3">
              <div class="card" style="height:300px;">
                <div class="card-body pb-0">
                  <h2 class="card-title">Total Detected Correlation</h2>
                  <div style="display: flex; justify-content: center; align-items: center;">
                    <h3 id="totalDetected" class="card-title-large" style="font-size: 3.5rem">6</h3>
                  </div>
                </div>
                <div class="card-body  pb-4">
                  <h2 class="card-title">Select Timeframe for Bar Chart</h2>
                  <select class="form-select" id="timeframeSelect">
                    <option value="year"> 12 months</option>
                    <option value="month"> 4 week</option>

                  </select>

                </div>
              </div>

            </div>
            <div class="col-lg-6">
              <div class="card" style="height:300px;">
                <div class="card-body">
                  <h6 class="card-title" id="barchart_id">Bar Chart</h6>
                  <canvas id="barChart" style="max-height: 200px;"></canvas>
                </div>
              </div>
            </div>

          </div>


          </div>
          </div>
          </div>

          <div class="row">
            <div class="col-lg-3">
              <div class="card" style="height:300px;">
                <div class="card-body">
                  <h2 class="card-title">Average of detected</h2>
                  <div style="margin-left: 25px; overflow-y: auto; max-height: 200px;" id="avgContainer">
                    <!-- Content goes here. Needs to be enough to require scrolling -->
                  </div>
                </div>
              </div>
              
            </div>

            <div class="col-lg-3">
              <div class="card" style="height:300px;">
                <div class="card-body " style="height:auto;  width: auto;">
                  <h2 class="card-title">Top 3 highest-correlated data sets</h2>

                  <div class="d-flex flex-column align-items-left gap-2">
                    <div class="border p-2 rounded text-left w-100">
                      <h3 class="m-0" style="font-size:  1.2rem;"><b>1st:</b> <span style="font-size: 1.2rem;"
                          id="TotalDeteNumber-top1"></span></h3>
                    </div>
                    <div class="border p-2 rounded text-left w-100">
                      <h3 class="m-0" style="font-size: 1.2rem;"><b>2st: </b><span style="font-size: 1.2rem;"
                          id="TotalDeteNumber-top2"></span></h3>
                    </div>
                    <div class="border p-2 rounded text-left w-100">
                      <h3 class="m-0" style="font-size: 1.2rem;"><b>3st:</b> <span style="font-size: 1.2rem;"
                          id="TotalDeteNumber-top3"></span></h3>
                    </div>
                  </div>
                </div>

              </div>


            </div>
            <div class="col-lg-6">
              <div class="card" style="height:300px;">
                <div class="card-body">
                  <h5 class="card-title" id="piechart_id">Pie Chart</h5>

                  <!-- Pie Chart -->
                  <canvas id="pieChart" style="max-height: 200px;"></canvas>

                  <!-- End Pie CHart -->

                </div>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="card" style="height:auto;">
                <div class="card-body">
                  <h6 class="card-title" id="barchartH_id">Bar Chart</h6>
                  <canvas id="barChartH" style="max-height: auto;"></canvas>
                </div>
              </div>
            </div>
          </div>
      

        </section>
      </main>

      <footer id="footer" class="footer">
        <div class="copyright">
          &copy; Copyright <strong><span>Corell8</span></strong>. All Rights Reserved
        </div>
      </footer>

      <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
          class="bi bi-arrow-up-short"></i></a>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
      <script type="module" src="../public/js/detailedReport.js"></script>
      <script src="../public/js/script.js"></script>
      <script type="module" src="../public/js/uiscript.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@latest"></script>
      <script type="module" src="../public/js/reportpage.js"></script>